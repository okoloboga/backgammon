{"name":"Escrow","code":"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","abi":"{\"name\":\"Escrow\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Game\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"creator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"joiner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"jettonMaster\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"createdAt\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"joinedAt\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}},{\"name\":\"winner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"claimed\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"JettonPayload\",\"header\":null,\"fields\":[{\"name\":\"action\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"gameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateGameTon\",\"header\":1,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"joinTimeout\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"JoinGameTon\",\"header\":2,\"fields\":[{\"name\":\"gameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CancelGame\",\"header\":3,\"fields\":[{\"name\":\"gameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportWinner\",\"header\":4,\"fields\":[{\"name\":\"gameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"winner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawUnclaimed\",\"header\":5,\"fields\":[]},{\"name\":\"OnJettonTransfer\",\"header\":16,\"fields\":[{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"payload\",\"type\":{\"kind\":\"simple\",\"type\":\"JettonPayload\",\"optional\":false}},{\"name\":\"jettonMaster\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ClaimJetton\",\"header\":17,\"fields\":[{\"name\":\"gameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"Escrow$Data\",\"header\":null,\"fields\":[{\"name\":\"nextGameId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"admin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feeWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"minTon\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"games\",\"type\":{\"kind\":\"dict\",\"key\":\"uint\",\"keyFormat\":64,\"value\":\"Game\",\"valueFormat\":\"ref\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateGameTon\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"JoinGameTon\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelGame\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ReportWinner\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"OnJettonTransfer\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ClaimJetton\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"WithdrawUnclaimed\"}}],\"getters\":[],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"5486\":{\"message\":\"join timeout not passed\"},\"5913\":{\"message\":\"amount below minimum\"},\"6423\":{\"message\":\"only winner can claim\"},\"10541\":{\"message\":\"winner must be player\"},\"18980\":{\"message\":\"only waiting games can be cancelled\"},\"19635\":{\"message\":\"attach declared amount\"},\"21885\":{\"message\":\"only admin\"},\"26028\":{\"message\":\"only admin can report\"},\"26218\":{\"message\":\"game not waiting\"},\"41490\":{\"message\":\"attach exact stake\"},\"44463\":{\"message\":\"already claimed\"},\"50049\":{\"message\":\"game not finished\"},\"50479\":{\"message\":\"game not found\"},\"52959\":{\"message\":\"not a jetton game\"},\"53249\":{\"message\":\"creator can't join own game\"},\"56165\":{\"message\":\"game not in progress\"},\"61763\":{\"message\":\"only creator can cancel\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[{"name":"adminAddr","type":{"kind":"simple","type":"address","optional":false}},{"name":"feeWalletAddr","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/escrow.tact":"Ly8gY29udHJhY3RzL0VzY3Jvdy50YWN0CmltcG9ydCAiQHN0ZGxpYi9kZXBsb3kiOwoKc3RydWN0IEdhbWUgewogIGlkOiBJbnQgYXMgdWludDY0OwogIGNyZWF0b3I6IEFkZHJlc3M7CiAgam9pbmVyOiBBZGRyZXNzPzsKICBqZXR0b25NYXN0ZXI6IEFkZHJlc3M/OyAgICAvLyBudWxsID0+IFRPTiwgQWRkcmVzcyA9PiBKZXR0b24KICBhbW91bnQ6IEludCBhcyBjb2luczsKICBzdGF0ZTogSW50OyAgICAgICAvLyAwPVdhaXRpbmcsMT1JblByb2dyZXNzLDI9RmluaXNoZWQsMz1DYW5jZWxsZWQKICBjcmVhdGVkQXQ6IEludCBhcyB1aW50MzI7CiAgam9pbmVkQXQ6IEludD87CiAgd2lubmVyOiBBZGRyZXNzPzsKICBjbGFpbWVkOiBCb29sOyAgICAvLyDQtNC70Y8gSmV0dG9uCn0KCnN0cnVjdCBKZXR0b25QYXlsb2FkIHsKICBhY3Rpb246IEludCBhcyB1aW50ODsgICAvLyAwID0gY3JlYXRlLCAxID0gam9pbgogIGdhbWVJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSgweDAxKSBDcmVhdGVHYW1lVG9uIHsKICBhbW91bnQ6IEludCBhcyBjb2luczsKICBqb2luVGltZW91dDogSW50IGFzIHVpbnQzMiA9IDM2MDA7Cn0KCm1lc3NhZ2UoMHgwMikgSm9pbkdhbWVUb24gewogIGdhbWVJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSgweDAzKSBDYW5jZWxHYW1lIHsKICBnYW1lSWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UoMHgwNCkgUmVwb3J0V2lubmVyIHsKICBnYW1lSWQ6IEludCBhcyB1aW50NjQ7CiAgd2lubmVyOiBBZGRyZXNzOwp9CgptZXNzYWdlKDB4MDUpIFdpdGhkcmF3VW5jbGFpbWVkIHt9CgptZXNzYWdlKDB4MTApIE9uSmV0dG9uVHJhbnNmZXIgewogIHNlbmRlcjogQWRkcmVzczsKICBhbW91bnQ6IEludCBhcyBjb2luczsKICBwYXlsb2FkOiBKZXR0b25QYXlsb2FkOwogIGpldHRvbk1hc3RlcjogQWRkcmVzczsKfQoKbWVzc2FnZSgweDExKSBDbGFpbUpldHRvbiB7CiAgZ2FtZUlkOiBJbnQgYXMgdWludDY0Owp9Cgpjb25zdCBTVEFURV9XQUlUSU5HOiBJbnQgPSAwOwpjb25zdCBTVEFURV9JTlBST0dSRVNTOiBJbnQgPSAxOwpjb25zdCBTVEFURV9GSU5JU0hFRDogSW50ID0gMjsKY29uc3QgU1RBVEVfQ0FOQ0VMTEVEOiBJbnQgPSAzOwoKY29udHJhY3QgRXNjcm93IHsKICBuZXh0R2FtZUlkOiBJbnQgYXMgdWludDY0OwogIGFkbWluOiBBZGRyZXNzOwogIGZlZVdhbGxldDogQWRkcmVzczsKICBtaW5Ub246IEludCBhcyBjb2luczsKICBnYW1lczogbWFwPEludCBhcyB1aW50NjQsIEdhbWU+OwoKICBpbml0KGFkbWluQWRkcjogQWRkcmVzcywgZmVlV2FsbGV0QWRkcjogQWRkcmVzcykgewogICAgc2VsZi5uZXh0R2FtZUlkID0gMTsKICAgIHNlbGYuYWRtaW4gPSBhZG1pbkFkZHI7CiAgICBzZWxmLmZlZVdhbGxldCA9IGZlZVdhbGxldEFkZHI7CiAgICBzZWxmLm1pblRvbiA9IHRvbigiMSIpOwogICAgc2VsZi5nYW1lcyA9IG1hcDxJbnQgYXMgdWludDY0LCBHYW1lPiB7fTsKICB9CgogIC8vIC0tLSBUT04gY3JlYXRlCiAgcmVjZWl2ZShtc2c6IENyZWF0ZUdhbWVUb24pIHsKICAgIGxldCBpbmNvbWluZyA9IGNvbnRleHQoKS52YWx1ZTsKICAgIHJlcXVpcmUoaW5jb21pbmcgPj0gbXNnLmFtb3VudCwgImF0dGFjaCBkZWNsYXJlZCBhbW91bnQiKTsKICAgIHJlcXVpcmUobXNnLmFtb3VudCA+PSBzZWxmLm1pblRvbiwgImFtb3VudCBiZWxvdyBtaW5pbXVtIik7CgogICAgbGV0IGlkID0gc2VsZi5uZXh0R2FtZUlkOwogICAgc2VsZi5uZXh0R2FtZUlkICs9IDE7CgogICAgbGV0IGdhbWUgPSBHYW1lewogICAgICBpZDogaWQsCiAgICAgIGNyZWF0b3I6IHNlbmRlcigpLAogICAgICBqb2luZXI6IG51bGwsCiAgICAgIGpldHRvbk1hc3RlcjogbnVsbCwKICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICBzdGF0ZTogU1RBVEVfV0FJVElORywKICAgICAgY3JlYXRlZEF0OiBub3coKSwKICAgICAgam9pbmVkQXQ6IG51bGwsCiAgICAgIHdpbm5lcjogbnVsbCwKICAgICAgY2xhaW1lZDogZmFsc2UKICAgIH07CiAgICBzZWxmLmdhbWVzLnNldChpZCwgZ2FtZSk7CgogICAgbGV0IGV4Y2VzcyA9IGluY29taW5nIC0gbXNnLmFtb3VudDsKICAgIGlmIChleGNlc3MgPiAwKSB7CiAgICAgIG1lc3NhZ2UoTWVzc2FnZVBhcmFtZXRlcnN7IHRvOiBzZW5kZXIoKSwgdmFsdWU6IGV4Y2VzcywgbW9kZTogU2VuZElnbm9yZUVycm9ycyB9KTsKICAgIH0KICB9CgogIC8vIC0tLSBUT04gam9pbgogIHJlY2VpdmUobXNnOiBKb2luR2FtZVRvbikgewogICAgbGV0IGdPcHQgPSBzZWxmLmdhbWVzLmdldChtc2cuZ2FtZUlkKTsgcmVxdWlyZShnT3B0ICE9IG51bGwsICJnYW1lIG5vdCBmb3VuZCIpOwogICAgbGV0IGcgPSBnT3B0ISE7CiAgICByZXF1aXJlKGcuc3RhdGUgPT0gU1RBVEVfV0FJVElORywgImdhbWUgbm90IHdhaXRpbmciKTsKICAgIHJlcXVpcmUoZy5jcmVhdG9yICE9IHNlbmRlcigpLCAiY3JlYXRvciBjYW4ndCBqb2luIG93biBnYW1lIik7CgogICAgbGV0IGluY29taW5nID0gY29udGV4dCgpLnZhbHVlOwogICAgcmVxdWlyZShpbmNvbWluZyA+PSBnLmFtb3VudCwgImF0dGFjaCBleGFjdCBzdGFrZSIpOwoKICAgIGxldCBuZXdHID0gR2FtZXsKICAgICAgaWQ6IGcuaWQsCiAgICAgIGNyZWF0b3I6IGcuY3JlYXRvciwKICAgICAgam9pbmVyOiBzZW5kZXIoKSwKICAgICAgamV0dG9uTWFzdGVyOiBnLmpldHRvbk1hc3RlciwKICAgICAgYW1vdW50OiBnLmFtb3VudCwKICAgICAgc3RhdGU6IFNUQVRFX0lOUFJPR1JFU1MsCiAgICAgIGNyZWF0ZWRBdDogZy5jcmVhdGVkQXQsCiAgICAgIGpvaW5lZEF0OiBub3coKSwKICAgICAgd2lubmVyOiBudWxsLAogICAgICBjbGFpbWVkOiBmYWxzZQogICAgfTsKICAgIHNlbGYuZ2FtZXMuc2V0KG1zZy5nYW1lSWQsIG5ld0cpOwoKICAgIGxldCBleGNlc3MgPSBpbmNvbWluZyAtIGcuYW1vdW50OwogICAgaWYgKGV4Y2VzcyA+IDApIHsKICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sgdG86IHNlbmRlcigpLCB2YWx1ZTogZXhjZXNzLCBtb2RlOiBTZW5kSWdub3JlRXJyb3JzIH0pOwogICAgfQogIH0KCiAgLy8gLS0tIENhbmNlbAogIHJlY2VpdmUobXNnOiBDYW5jZWxHYW1lKSB7CiAgICBsZXQgZ09wdCA9IHNlbGYuZ2FtZXMuZ2V0KG1zZy5nYW1lSWQpOyByZXF1aXJlKGdPcHQgIT0gbnVsbCwgImdhbWUgbm90IGZvdW5kIik7CiAgICBsZXQgZyA9IGdPcHQhITsKICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gZy5jcmVhdG9yLCAib25seSBjcmVhdG9yIGNhbiBjYW5jZWwiKTsKICAgIHJlcXVpcmUoZy5zdGF0ZSA9PSBTVEFURV9XQUlUSU5HLCAib25seSB3YWl0aW5nIGdhbWVzIGNhbiBiZSBjYW5jZWxsZWQiKTsKCiAgICBsZXQgam9pblRpbWVvdXQ6IEludCA9IDM2MDA7CiAgICByZXF1aXJlKG5vdygpID4gZy5jcmVhdGVkQXQgKyBqb2luVGltZW91dCwgImpvaW4gdGltZW91dCBub3QgcGFzc2VkIik7CgogICAgbGV0IGNhbmNlbGxlZCA9IEdhbWV7CiAgICAgICAgaWQ6IGcuaWQsCiAgICAgICAgY3JlYXRvcjogZy5jcmVhdG9yLAogICAgICAgIGpvaW5lcjogZy5qb2luZXIsCiAgICAgICAgamV0dG9uTWFzdGVyOiBnLmpldHRvbk1hc3RlciwKICAgICAgICBhbW91bnQ6IGcuYW1vdW50LAogICAgICAgIHN0YXRlOiBTVEFURV9DQU5DRUxMRUQsCiAgICAgICAgY3JlYXRlZEF0OiBnLmNyZWF0ZWRBdCwKICAgICAgICBqb2luZWRBdDogZy5qb2luZWRBdCwKICAgICAgICB3aW5uZXI6IGcud2lubmVyLAogICAgICAgIGNsYWltZWQ6IGcuY2xhaW1lZAogICAgfTsKICAgIHNlbGYuZ2FtZXMuc2V0KG1zZy5nYW1lSWQsIGNhbmNlbGxlZCk7CgogICAgLy8gcmVmdW5kIGNyZWF0b3IKICAgIGlmIChnLmpldHRvbk1hc3RlciA9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UoTWVzc2FnZVBhcmFtZXRlcnN7IHRvOiBnLmNyZWF0b3IsIHZhbHVlOiBnLmFtb3VudCwgbW9kZTogU2VuZElnbm9yZUVycm9ycyB9KTsKICAgIH0KICB9CgogIC8vIC0tLSBSZXBvcnQgd2lubmVyIChUT04gKyBKZXR0b24pCiAgcmVjZWl2ZShtc2c6IFJlcG9ydFdpbm5lcikgewogICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkbWluLCAib25seSBhZG1pbiBjYW4gcmVwb3J0Iik7CiAgICBsZXQgZ09wdCA9IHNlbGYuZ2FtZXMuZ2V0KG1zZy5nYW1lSWQpOyByZXF1aXJlKGdPcHQgIT0gbnVsbCwgImdhbWUgbm90IGZvdW5kIik7CiAgICBsZXQgZyA9IGdPcHQhITsKICAgIHJlcXVpcmUoZy5zdGF0ZSA9PSBTVEFURV9JTlBST0dSRVNTLCAiZ2FtZSBub3QgaW4gcHJvZ3Jlc3MiKTsKICAgIHJlcXVpcmUobXNnLndpbm5lciA9PSBnLmNyZWF0b3IgfHwgbXNnLndpbm5lciA9PSBnLmpvaW5lciwgIndpbm5lciBtdXN0IGJlIHBsYXllciIpOwoKICAgIGxldCBmaW5pc2hlZCA9IEdhbWV7CiAgICAgIGlkOiBnLmlkLAogICAgICBjcmVhdG9yOiBnLmNyZWF0b3IsCiAgICAgIGpvaW5lcjogZy5qb2luZXIsCiAgICAgIGpldHRvbk1hc3RlcjogZy5qZXR0b25NYXN0ZXIsCiAgICAgIGFtb3VudDogZy5hbW91bnQsCiAgICAgIHN0YXRlOiBTVEFURV9GSU5JU0hFRCwKICAgICAgY3JlYXRlZEF0OiBnLmNyZWF0ZWRBdCwKICAgICAgam9pbmVkQXQ6IGcuam9pbmVkQXQsCiAgICAgIHdpbm5lcjogbXNnLndpbm5lciwKICAgICAgY2xhaW1lZDogZy5jbGFpbWVkCiAgICB9OwoKICAgIHNlbGYuZ2FtZXMuc2V0KG1zZy5nYW1lSWQsIGZpbmlzaGVkKTsKCiAgICBpZiAoZy5qZXR0b25NYXN0ZXIgPT0gbnVsbCkgewogICAgICBsZXQgdG90YWwgPSBnLmFtb3VudCAqIDI7CiAgICAgIGxldCBmZWUgPSAodG90YWwgKiA1KS8xMDA7CiAgICAgIGxldCB3aW5uZXJBbW91bnQgPSB0b3RhbCAtIGZlZTsKCiAgICAgIG1lc3NhZ2UoTWVzc2FnZVBhcmFtZXRlcnN7IHRvOiBtc2cud2lubmVyLCB2YWx1ZTogd2lubmVyQW1vdW50LCBtb2RlOiBTZW5kSWdub3JlRXJyb3JzIH0pOwogICAgICBpZiAoZmVlID4gMCkgewogICAgICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgICAgIHRvOiBzZWxmLmZlZVdhbGxldCwKICAgICAgICAgIHZhbHVlOiBmZWUsCiAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgfSk7CiAgICAgIH0gICAKICAgIH0KICB9CgogIC8vIC0tLSBKZXR0b24gdHJhbnNmZXIKICByZWNlaXZlKG1zZzogT25KZXR0b25UcmFuc2ZlcikgewoKICAgIGlmIG1zZy5wYXlsb2FkLmFjdGlvbiA9PSAwIHsKICAgICAgbGV0IGlkID0gc2VsZi5uZXh0R2FtZUlkOwogICAgICBzZWxmLm5leHRHYW1lSWQgKz0gMTsKICAgICAgbGV0IGdhbWUgPSBHYW1lewogICAgICAgIGlkOiBpZCwKICAgICAgICBjcmVhdG9yOiBtc2cuc2VuZGVyLAogICAgICAgIGpvaW5lcjogbnVsbCwKICAgICAgICBqZXR0b25NYXN0ZXI6IG1zZy5qZXR0b25NYXN0ZXIsCiAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgIHN0YXRlOiBTVEFURV9XQUlUSU5HLAogICAgICAgIGNyZWF0ZWRBdDogbm93KCksCiAgICAgICAgam9pbmVkQXQ6IG51bGwsCiAgICAgICAgd2lubmVyOiBudWxsLAogICAgICAgIGNsYWltZWQ6IGZhbHNlCiAgICAgIH07CiAgICAgIHNlbGYuZ2FtZXMuc2V0KGlkLCBnYW1lKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBnT3B0ID0gc2VsZi5nYW1lcy5nZXQobXNnLnBheWxvYWQuZ2FtZUlkKTsgcmVxdWlyZShnT3B0ICE9IG51bGwsICJnYW1lIG5vdCBmb3VuZCIpOwogICAgICBsZXQgZyA9IGdPcHQhITsKICAgICAgcmVxdWlyZShnLnN0YXRlID09IFNUQVRFX1dBSVRJTkcsICJnYW1lIG5vdCB3YWl0aW5nIik7CiAgICAgIGxldCBuZXdHID0gR2FtZXsKICAgICAgICBpZDogZy5pZCwKICAgICAgICBjcmVhdG9yOiBnLmNyZWF0b3IsCiAgICAgICAgam9pbmVyOiBtc2cuc2VuZGVyLAogICAgICAgIGpldHRvbk1hc3RlcjogZy5qZXR0b25NYXN0ZXIsCiAgICAgICAgYW1vdW50OiBnLmFtb3VudCwKICAgICAgICBzdGF0ZTogU1RBVEVfSU5QUk9HUkVTUywKICAgICAgICBjcmVhdGVkQXQ6IGcuY3JlYXRlZEF0LAogICAgICAgIGpvaW5lZEF0OiBub3coKSwKICAgICAgICB3aW5uZXI6IG51bGwsCiAgICAgICAgY2xhaW1lZDogZmFsc2UKICAgICAgfTsKCiAgICAgIHNlbGYuZ2FtZXMuc2V0KG1zZy5wYXlsb2FkLmdhbWVJZCwgbmV3Ryk7CiAgICB9CiAgfQoKICByZWNlaXZlKG1zZzogQ2xhaW1KZXR0b24pIHsKICAgIGxldCBnT3B0ID0gc2VsZi5nYW1lcy5nZXQobXNnLmdhbWVJZCk7IHJlcXVpcmUoZ09wdCAhPSBudWxsLCAiZ2FtZSBub3QgZm91bmQiKTsKICAgIGxldCBnID0gZ09wdCEhOwogICAgcmVxdWlyZShnLnN0YXRlID09IFNUQVRFX0ZJTklTSEVELCAiZ2FtZSBub3QgZmluaXNoZWQiKTsKICAgIHJlcXVpcmUoZy5qZXR0b25NYXN0ZXIgIT0gbnVsbCwgIm5vdCBhIGpldHRvbiBnYW1lIik7CiAgICByZXF1aXJlKHNlbmRlcigpID09IGcud2lubmVyLCAib25seSB3aW5uZXIgY2FuIGNsYWltIik7CiAgICByZXF1aXJlKCFnLmNsYWltZWQsICJhbHJlYWR5IGNsYWltZWQiKTsKCiAgICAvLyDQv9C+0LzQtdGH0LDQtdC8INC60LDQuiDQv9C+0LvRg9GH0LXQvdC+CiAgICBnLmNsYWltZWQgPSB0cnVlOwogICAgc2VsZi5nYW1lcy5zZXQobXNnLmdhbWVJZCwgZyk7CgogICAgLy8gSmV0dG9uIHRyYW5zZmVyCiAgICBsZXQgamV0dG9uTWFzdGVyID0gZy5qZXR0b25NYXN0ZXIhITsKICAgIGxldCBhbW91bnQ6IEludCA9IGcuYW1vdW50ICogMjsKCiAgICAvLyBjYWxsIGpldHRvbiB0cmFuc2ZlcgogICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgdG86IGpldHRvbk1hc3RlciwKICAgICAgdmFsdWU6IHRvbigiMC4wNSIpLAogICAgICBib3VuY2U6IHRydWUsCiAgICAgIGJvZHk6IGJlZ2luQ2VsbCgpCiAgICAgICAgLnN0b3JlVWludCgweGY4YTdlYTUsIDMyKSAgIC8vIHNlbGVjdG9yIHRyYW5zZmVyCiAgICAgICAgLnN0b3JlQWRkcmVzcyhnLndpbm5lciEhKQogICAgICAgIC5zdG9yZUNvaW5zKGFtb3VudCkKICAgICAgICAuc3RvcmVDb2lucygwKSAgICAgICAgICAgICAgLy8gZGVwbG95V2FsbGV0VmFsdWUKICAgICAgICAuc3RvcmVBZGRyZXNzKGcud2lubmVyISEpCiAgICAgICAgLnN0b3JlQml0KHRydWUpICAgICAgICAgICAgIC8vIG5vdGlmeQogICAgICAgIC5zdG9yZVJlZihiZWdpbkNlbGwoKS5lbmRDZWxsKCkpIC8vIHBheWxvYWQKICAgICAgLmVuZENlbGwoKQogICAgfSk7CiAgfQoKICAvLyAtLS0gV2l0aGRyYXcgbGVmdG92ZXIgVE9OCiAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3VW5jbGFpbWVkKSB7CiAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuYWRtaW4sICJvbmx5IGFkbWluIik7CiAgICBsZXQgYmFsID0gbXlCYWxhbmNlKCkgLSBjb250ZXh0KCkudmFsdWU7CiAgICBsZXQgcmVzZXJ2ZSA9IHRvbigiMC4wMSIpOwogICAgaWYgKGJhbCA+IHJlc2VydmUpIHsKICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sgCiAgICAgICAgdG86IHNlbGYuZmVlV2FsbGV0LCAKICAgICAgICB2YWx1ZTogYmFsIC0gcmVzZXJ2ZSwgCiAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyAKICAgICAgfSk7CiAgICB9CiAgfQp9Cg=="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"contracts/escrow.tact\",\"options\":{\"debug\":false,\"external\":false}}"}}